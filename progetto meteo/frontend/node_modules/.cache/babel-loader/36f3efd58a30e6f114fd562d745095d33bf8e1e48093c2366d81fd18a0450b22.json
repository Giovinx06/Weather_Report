{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"weather-timeline-container\"\n};\nconst _hoisted_2 = {\n  class: \"timeline-header d-flex justify-content-between align-items-center mb-3\"\n};\nconst _hoisted_3 = {\n  class: \"timeline-controls\"\n};\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = {\n  class: \"timeline-wrapper\",\n  ref: \"timelineWrapper\"\n};\nconst _hoisted_7 = {\n  class: \"timeline-slider\",\n  ref: \"timelineSlider\"\n};\nconst _hoisted_8 = {\n  class: \"timeline-ticks\"\n};\nconst _hoisted_9 = {\n  class: \"tick-label\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"timeline-item-content\"\n};\nconst _hoisted_12 = {\n  class: \"timeline-item-icon\"\n};\nconst _hoisted_13 = {\n  class: \"timeline-item-info\"\n};\nconst _hoisted_14 = {\n  class: \"timeline-item-city\"\n};\nconst _hoisted_15 = {\n  class: \"timeline-item-temp\"\n};\nconst _hoisted_16 = {\n  class: \"timeline-item-date\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"timeline-detail-card mt-3\"\n};\nconst _hoisted_18 = {\n  class: \"card border-0 shadow-sm\"\n};\nconst _hoisted_19 = {\n  class: \"card-body\"\n};\nconst _hoisted_20 = {\n  class: \"row align-items-center\"\n};\nconst _hoisted_21 = {\n  class: \"col-md-2 text-center mb-3 mb-md-0\"\n};\nconst _hoisted_22 = {\n  class: \"weather-icon-lg\"\n};\nconst _hoisted_23 = {\n  class: \"col-md-4 mb-3 mb-md-0\"\n};\nconst _hoisted_24 = {\n  class: \"mb-1\"\n};\nconst _hoisted_25 = {\n  class: \"text-muted\"\n};\nconst _hoisted_26 = {\n  class: \"mt-2\"\n};\nconst _hoisted_27 = {\n  class: \"fs-3 fw-bold\"\n};\nconst _hoisted_28 = {\n  key: 0,\n  class: \"ms-2 text-muted\"\n};\nconst _hoisted_29 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_30 = {\n  class: \"weather-details\"\n};\nconst _hoisted_31 = {\n  class: \"weather-detail-item\"\n};\nconst _hoisted_32 = {\n  class: \"weather-detail-text\"\n};\nconst _hoisted_33 = {\n  class: \"weather-detail-value\"\n};\nconst _hoisted_34 = {\n  class: \"weather-detail-item\"\n};\nconst _hoisted_35 = {\n  class: \"weather-detail-text\"\n};\nconst _hoisted_36 = {\n  class: \"weather-detail-value\"\n};\nconst _hoisted_37 = {\n  class: \"weather-detail-item\"\n};\nconst _hoisted_38 = {\n  class: \"weather-detail-text\"\n};\nconst _hoisted_39 = {\n  class: \"weather-detail-value\"\n};\nconst _hoisted_40 = {\n  class: \"weather-detail-item\"\n};\nconst _hoisted_41 = {\n  class: \"weather-detail-text\"\n};\nconst _hoisted_42 = {\n  class: \"weather-detail-value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h5\", {\n    class: \"mb-0\"\n  }, \"Timeline Previsioni\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-outline-primary me-2\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.zoomOut && $options.zoomOut(...args)),\n    disabled: $data.scale <= 1\n  }, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n    class: \"fas fa-search-minus\"\n  }, null, -1 /* HOISTED */)]), 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-outline-primary\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.zoomIn && $options.zoomIn(...args)),\n    disabled: $data.scale >= 3\n  }, _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n    class: \"fas fa-search-plus\"\n  }, null, -1 /* HOISTED */)]), 8 /* PROPS */, _hoisted_5)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n    class: \"timeline-track\",\n    style: _normalizeStyle({\n      width: `${$data.timelineWidth}px`\n    }),\n    onMousedown: _cache[2] || (_cache[2] = (...args) => $options.startDrag && $options.startDrag(...args))\n  }, [_createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.timelineTicks, (tick, idx) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: idx,\n      class: \"timeline-tick\",\n      style: _normalizeStyle({\n        left: `${tick.position}%`\n      })\n    }, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n      class: \"tick-line\"\n    }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, _toDisplayString(tick.label), 1 /* TEXT */)], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.sortedWeatherData, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: idx,\n      class: _normalizeClass([\"timeline-item\", [$options.getWeatherClass(item), {\n        active: $data.activeItemIndex === idx\n      }]]),\n      style: _normalizeStyle({\n        left: `${$options.getPositionPercent(item)}%`\n      }),\n      onClick: $event => $options.setActiveItem(idx)\n    }, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n      class: \"timeline-item-dot\"\n    }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"i\", {\n      class: _normalizeClass($options.getWeatherIcon(item))\n    }, null, 2 /* CLASS */)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, _toDisplayString(item.city), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, _toDisplayString(item.temperature) + \"°C\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_16, _toDisplayString($options.formatDate(item.fetchDate || item.createdAt || item.date)), 1 /* TEXT */)])])], 14 /* CLASS, STYLE, PROPS */, _hoisted_10);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", {\n    class: \"timeline-cursor\",\n    style: _normalizeStyle({\n      left: `${$data.cursorPosition}%`\n    })\n  }, null, 4 /* STYLE */)], 36 /* STYLE, NEED_HYDRATION */)], 512 /* NEED_PATCH */)], 512 /* NEED_PATCH */), $options.activeItem ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"i\", {\n    class: _normalizeClass($options.getWeatherIcon($options.activeItem))\n  }, null, 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"h4\", _hoisted_24, _toDisplayString($options.activeItem.city) + \", \" + _toDisplayString($options.activeItem.country), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_25, _toDisplayString($options.formatDate($options.activeItem.fetchDate || $options.activeItem.createdAt || $options.activeItem.date, true)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"span\", _hoisted_27, _toDisplayString($options.activeItem.temperature) + \"°C\", 1 /* TEXT */), $options.activeItem.humidity ? (_openBlock(), _createElementBlock(\"span\", _hoisted_28, [_cache[8] || (_cache[8] = _createElementVNode(\"i\", {\n    class: \"fas fa-tint me-1\"\n  }, null, -1 /* HOISTED */)), _createTextVNode(_toDisplayString($options.activeItem.humidity) + \"% \", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_cache[10] || (_cache[10] = _createElementVNode(\"i\", {\n    class: \"fas fa-wind text-primary\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_32, [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"weather-detail-label\"\n  }, \"Vento\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_33, _toDisplayString($options.activeItem.windSpeed || '0') + \" km/h\", 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_34, [_cache[12] || (_cache[12] = _createElementVNode(\"i\", {\n    class: \"fas fa-compress-alt text-primary\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_35, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"weather-detail-label\"\n  }, \"Pressione\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_36, _toDisplayString($options.activeItem.pressure || '1013') + \" hPa\", 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_37, [_cache[14] || (_cache[14] = _createElementVNode(\"i\", {\n    class: \"fas fa-eye text-primary\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_38, [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    class: \"weather-detail-label\"\n  }, \"Visibilità\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_39, _toDisplayString($options.activeItem.visibility || 'N/A'), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_40, [_cache[16] || (_cache[16] = _createElementVNode(\"i\", {\n    class: \"fas fa-cloud text-primary\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_41, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"weather-detail-label\"\n  }, \"Condizioni\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_42, _toDisplayString($options.activeItem.description), 1 /* TEXT */)])])])])])])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","ref","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","zoomOut","disabled","$data","scale","_hoisted_4","zoomIn","_hoisted_5","_hoisted_6","_hoisted_7","style","_normalizeStyle","width","timelineWidth","onMousedown","startDrag","_hoisted_8","_Fragment","_renderList","timelineTicks","tick","idx","left","position","_hoisted_9","_toDisplayString","label","sortedWeatherData","item","_normalizeClass","getWeatherClass","active","activeItemIndex","getPositionPercent","$event","setActiveItem","_hoisted_11","_hoisted_12","getWeatherIcon","_hoisted_13","_hoisted_14","city","_hoisted_15","temperature","_hoisted_16","formatDate","fetchDate","createdAt","date","_hoisted_10","cursorPosition","activeItem","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","country","_hoisted_25","_hoisted_26","_hoisted_27","humidity","_hoisted_28","_createTextVNode","_createCommentVNode","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","windSpeed","_hoisted_34","_hoisted_35","_hoisted_36","pressure","_hoisted_37","_hoisted_38","_hoisted_39","visibility","_hoisted_40","_hoisted_41","_hoisted_42","description"],"sources":["C:\\Users\\Giovanni\\OneDrive\\Desktop\\Scuola\\TPI\\progetto meteo\\frontend\\src\\components\\WeatherTimeline.vue"],"sourcesContent":["<template>\r\n  <div class=\"weather-timeline-container\">\r\n    <div class=\"timeline-header d-flex justify-content-between align-items-center mb-3\">\r\n      <h5 class=\"mb-0\">Timeline Previsioni</h5>\r\n      <div class=\"timeline-controls\">\r\n        <button class=\"btn btn-sm btn-outline-primary me-2\" @click=\"zoomOut\" :disabled=\"scale <= 1\">\r\n          <i class=\"fas fa-search-minus\"></i>\r\n        </button>\r\n        <button class=\"btn btn-sm btn-outline-primary\" @click=\"zoomIn\" :disabled=\"scale >= 3\">\r\n          <i class=\"fas fa-search-plus\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"timeline-wrapper\" ref=\"timelineWrapper\">\r\n      <div class=\"timeline-slider\" ref=\"timelineSlider\">\r\n        <div \r\n          class=\"timeline-track\"\r\n          :style=\"{ width: `${timelineWidth}px` }\"\r\n          @mousedown=\"startDrag\"\r\n        >\r\n          <div class=\"timeline-ticks\">\r\n            <div \r\n              v-for=\"(tick, idx) in timelineTicks\" \r\n              :key=\"idx\" \r\n              class=\"timeline-tick\"\r\n              :style=\"{ left: `${tick.position}%` }\"\r\n            >\r\n              <div class=\"tick-line\"></div>\r\n              <div class=\"tick-label\">{{ tick.label }}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div \r\n            v-for=\"(item, idx) in sortedWeatherData\" \r\n            :key=\"idx\" \r\n            class=\"timeline-item\"\r\n            :class=\"[getWeatherClass(item), { active: activeItemIndex === idx }]\"\r\n            :style=\"{ left: `${getPositionPercent(item)}%` }\"\r\n            @click=\"setActiveItem(idx)\"\r\n          >\r\n            <div class=\"timeline-item-dot\"></div>\r\n            <div class=\"timeline-item-content\">\r\n              <div class=\"timeline-item-icon\">\r\n                <i :class=\"getWeatherIcon(item)\"></i>\r\n              </div>\r\n              <div class=\"timeline-item-info\">\r\n                <div class=\"timeline-item-city\">{{ item.city }}</div>\r\n                <div class=\"timeline-item-temp\">{{ item.temperature }}°C</div>\r\n                <div class=\"timeline-item-date\">{{ formatDate(item.fetchDate || item.createdAt || item.date) }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"timeline-cursor\" :style=\"{ left: `${cursorPosition}%` }\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"activeItem\" class=\"timeline-detail-card mt-3\">\r\n      <div class=\"card border-0 shadow-sm\">\r\n        <div class=\"card-body\">\r\n          <div class=\"row align-items-center\">\r\n            <div class=\"col-md-2 text-center mb-3 mb-md-0\">\r\n              <div class=\"weather-icon-lg\">\r\n                <i :class=\"getWeatherIcon(activeItem)\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-4 mb-3 mb-md-0\">\r\n              <h4 class=\"mb-1\">{{ activeItem.city }}, {{ activeItem.country }}</h4>\r\n              <div class=\"text-muted\">{{ formatDate(activeItem.fetchDate || activeItem.createdAt || activeItem.date, true) }}</div>\r\n              <div class=\"mt-2\">\r\n                <span class=\"fs-3 fw-bold\">{{ activeItem.temperature }}°C</span>\r\n                <span class=\"ms-2 text-muted\" v-if=\"activeItem.humidity\">\r\n                  <i class=\"fas fa-tint me-1\"></i>{{ activeItem.humidity }}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div class=\"weather-details\">\r\n                <div class=\"weather-detail-item\">\r\n                  <i class=\"fas fa-wind text-primary\"></i>\r\n                  <div class=\"weather-detail-text\">\r\n                    <div class=\"weather-detail-label\">Vento</div>\r\n                    <div class=\"weather-detail-value\">{{ activeItem.windSpeed || '0' }} km/h</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"weather-detail-item\">\r\n                  <i class=\"fas fa-compress-alt text-primary\"></i>\r\n                  <div class=\"weather-detail-text\">\r\n                    <div class=\"weather-detail-label\">Pressione</div>\r\n                    <div class=\"weather-detail-value\">{{ activeItem.pressure || '1013' }} hPa</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"weather-detail-item\">\r\n                  <i class=\"fas fa-eye text-primary\"></i>\r\n                  <div class=\"weather-detail-text\">\r\n                    <div class=\"weather-detail-label\">Visibilità</div>\r\n                    <div class=\"weather-detail-value\">{{ activeItem.visibility || 'N/A' }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"weather-detail-item\">\r\n                  <i class=\"fas fa-cloud text-primary\"></i>\r\n                  <div class=\"weather-detail-text\">\r\n                    <div class=\"weather-detail-label\">Condizioni</div>\r\n                    <div class=\"weather-detail-value\">{{ activeItem.description }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'WeatherTimeline',\r\n  props: {\r\n    weatherData: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeItemIndex: -1,\r\n      isDragging: false,\r\n      startX: 0,\r\n      scrollLeft: 0,\r\n      scale: 1,\r\n      timelineWidth: 1000, // Larghezza iniziale della timeline\r\n      cursorPosition: 50, // Posizione in percentuale\r\n      isDraggingCursor: false\r\n    }\r\n  },\r\n  computed: {\r\n    sortedWeatherData() {\r\n      return [...this.weatherData].sort((a, b) => {\r\n        const dateA = new Date(a.fetchDate || a.createdAt || a.date);\r\n        const dateB = new Date(b.fetchDate || b.createdAt || b.date);\r\n        return dateA - dateB;\r\n      });\r\n    },\r\n    timeRange() {\r\n      if (!this.sortedWeatherData.length) return { min: new Date(), max: new Date() };\r\n      \r\n      const dates = this.sortedWeatherData.map(item => \r\n        new Date(item.fetchDate || item.createdAt || item.date)\r\n      );\r\n      \r\n      const minDate = new Date(Math.min(...dates));\r\n      const maxDate = new Date(Math.max(...dates));\r\n      \r\n      // Aggiungi un po' di margine\r\n      minDate.setHours(minDate.getHours() - 1);\r\n      maxDate.setHours(maxDate.getHours() + 1);\r\n      \r\n      return { min: minDate, max: maxDate };\r\n    },\r\n    timelineTicks() {\r\n      if (!this.sortedWeatherData.length) return [];\r\n      \r\n      const { min, max } = this.timeRange;\r\n      const range = max - min;\r\n      const ticks = [];\r\n      \r\n      // Calcola il numero ottimale di tick in base alla scala\r\n      const numTicks = 5 * this.scale;\r\n      \r\n      for (let i = 0; i <= numTicks; i++) {\r\n        const tickTime = new Date(min.getTime() + (range * (i / numTicks)));\r\n        ticks.push({\r\n          time: tickTime,\r\n          position: (i / numTicks) * 100,\r\n          label: this.formatTickLabel(tickTime)\r\n        });\r\n      }\r\n      \r\n      return ticks;\r\n    },\r\n    activeItem() {\r\n      return this.activeItemIndex >= 0 ? this.sortedWeatherData[this.activeItemIndex] : null;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.updateTimelineWidth();\r\n    window.addEventListener('resize', this.updateTimelineWidth);\r\n    document.addEventListener('mousemove', this.onDrag);\r\n    document.addEventListener('mouseup', this.stopDrag);\r\n    \r\n    // Imposta il primo elemento come attivo se c'è almeno un elemento\r\n    if (this.sortedWeatherData.length) {\r\n      this.setActiveItem(0);\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('resize', this.updateTimelineWidth);\r\n    document.removeEventListener('mousemove', this.onDrag);\r\n    document.removeEventListener('mouseup', this.stopDrag);\r\n  },\r\n  methods: {\r\n    updateTimelineWidth() {\r\n      // Calcola la larghezza base della timeline\r\n      const baseWidth = this.$refs.timelineWrapper?.clientWidth || 1000;\r\n      \r\n      // Applica la scala\r\n      this.timelineWidth = baseWidth * this.scale;\r\n    },\r\n    startDrag(e) {\r\n      this.isDragging = true;\r\n      this.startX = e.pageX - this.$refs.timelineSlider.offsetLeft;\r\n      this.scrollLeft = this.$refs.timelineSlider.scrollLeft;\r\n    },\r\n    onDrag(e) {\r\n      if (!this.isDragging) return;\r\n      e.preventDefault();\r\n      \r\n      const x = e.pageX - this.$refs.timelineSlider.offsetLeft;\r\n      const walkX = (x - this.startX) * 1.5; // Moltiplica per un fattore per accelerare lo scorrimento\r\n      this.$refs.timelineSlider.scrollLeft = this.scrollLeft - walkX;\r\n      \r\n      // Aggiorna la posizione del cursore in base allo scroll\r\n      this.updateCursorFromScroll();\r\n    },\r\n    stopDrag() {\r\n      this.isDragging = false;\r\n    },\r\n    zoomIn() {\r\n      if (this.scale < 3) {\r\n        this.scale += 0.5;\r\n        this.updateTimelineWidth();\r\n      }\r\n    },\r\n    zoomOut() {\r\n      if (this.scale > 1) {\r\n        this.scale -= 0.5;\r\n        this.updateTimelineWidth();\r\n      }\r\n    },\r\n    getPositionPercent(item) {\r\n      const { min, max } = this.timeRange;\r\n      const range = max - min;\r\n      const time = new Date(item.fetchDate || item.createdAt || item.date);\r\n      \r\n      return ((time - min) / range) * 100;\r\n    },\r\n    formatDate(dateStr, detailed = false) {\r\n      if (!dateStr) return '';\r\n      const date = new Date(dateStr);\r\n      \r\n      if (detailed) {\r\n        return date.toLocaleString();\r\n      } else {\r\n        return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n      }\r\n    },\r\n    formatTickLabel(date) {\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    },\r\n    setActiveItem(index) {\r\n      this.activeItemIndex = index;\r\n      \r\n      // Imposta la posizione del cursore sul punto selezionato\r\n      if (index >= 0) {\r\n        const item = this.sortedWeatherData[index];\r\n        this.cursorPosition = this.getPositionPercent(item);\r\n        \r\n        // Scorri la vista per centrare l'elemento selezionato\r\n        this.scrollToPosition(this.cursorPosition);\r\n      }\r\n    },\r\n    scrollToPosition(positionPercent) {\r\n      const timelineSlider = this.$refs.timelineSlider;\r\n      const scrollPos = (positionPercent / 100) * this.timelineWidth - (timelineSlider.clientWidth / 2);\r\n      \r\n      timelineSlider.scrollLeft = scrollPos;\r\n    },\r\n    updateCursorFromScroll() {\r\n      // Calcola la posizione del cursore in base allo scroll\r\n      const timelineSlider = this.$refs.timelineSlider;\r\n      const centerPos = timelineSlider.scrollLeft + (timelineSlider.clientWidth / 2);\r\n      this.cursorPosition = (centerPos / this.timelineWidth) * 100;\r\n      \r\n      // Trova l'elemento più vicino alla posizione del cursore\r\n      this.findClosestItem();\r\n    },\r\n    findClosestItem() {\r\n      if (!this.sortedWeatherData.length) return;\r\n      \r\n      let closestIndex = 0;\r\n      let minDistance = Number.MAX_VALUE;\r\n      \r\n      this.sortedWeatherData.forEach((item, index) => {\r\n        const position = this.getPositionPercent(item);\r\n        const distance = Math.abs(position - this.cursorPosition);\r\n        \r\n        if (distance < minDistance) {\r\n          minDistance = distance;\r\n          closestIndex = index;\r\n        }\r\n      });\r\n      \r\n      if (this.activeItemIndex !== closestIndex) {\r\n        this.activeItemIndex = closestIndex;\r\n      }\r\n    },\r\n    getWeatherClass(item) {\r\n      if (!item || !item.description) return '';\r\n      const desc = item.description.toLowerCase();\r\n      \r\n      if (desc.includes('pioggia') || desc.includes('rain')) return 'weather-rain';\r\n      if (desc.includes('sereno') || desc.includes('clear') || desc.includes('sun')) return 'weather-clear';\r\n      if (desc.includes('nuvol') || desc.includes('cloud')) return 'weather-cloud';\r\n      if (desc.includes('neve') || desc.includes('snow')) return 'weather-snow';\r\n      if (desc.includes('temporale') || desc.includes('storm') || desc.includes('thunder')) return 'weather-storm';\r\n      if (desc.includes('nebbia') || desc.includes('fog')) return 'weather-fog';\r\n      \r\n      return '';\r\n    },\r\n    getWeatherIcon(item) {\r\n      if (!item || !item.description) return 'fas fa-cloud fa-lg text-secondary';\r\n      const desc = item.description.toLowerCase();\r\n      \r\n      if (desc.includes('pioggia') || desc.includes('rain')) return 'fas fa-cloud-rain fa-lg text-info';\r\n      if (desc.includes('sereno') || desc.includes('clear') || desc.includes('sun')) return 'fas fa-sun fa-lg text-warning';\r\n      if (desc.includes('nuvol') || desc.includes('cloud')) return 'fas fa-cloud fa-lg text-secondary';\r\n      if (desc.includes('neve') || desc.includes('snow')) return 'fas fa-snowflake fa-lg text-info';\r\n      if (desc.includes('temporale') || desc.includes('storm') || desc.includes('thunder')) return 'fas fa-bolt fa-lg text-warning';\r\n      if (desc.includes('nebbia') || desc.includes('fog')) return 'fas fa-smog fa-lg text-secondary';\r\n      if (desc.includes('vento') || desc.includes('wind')) return 'fas fa-wind fa-lg text-info';\r\n      \r\n      return 'fas fa-cloud fa-lg text-secondary';\r\n    }\r\n  },\r\n  watch: {\r\n    weatherData: {\r\n      handler() {\r\n        this.updateTimelineWidth();\r\n        \r\n        // Imposta il primo elemento come attivo se c'è almeno un elemento\r\n        if (this.sortedWeatherData.length && this.activeItemIndex === -1) {\r\n          this.setActiveItem(0);\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    scale() {\r\n      this.updateTimelineWidth();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.weather-timeline-container {\r\n  position: relative;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.timeline-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 150px;\r\n  overflow: hidden;\r\n  border-radius: 0.75rem;\r\n  background-color: #f8f9fa;\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n}\r\n\r\n.timeline-slider {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  position: relative;\r\n  padding: 20px 0;\r\n}\r\n\r\n.timeline-track {\r\n  position: relative;\r\n  height: 110px;\r\n  min-width: 100%;\r\n}\r\n\r\n.timeline-ticks {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 30px;\r\n}\r\n\r\n.timeline-tick {\r\n  position: absolute;\r\n  bottom: 0;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.tick-line {\r\n  width: 1px;\r\n  height: 10px;\r\n  background-color: #ccc;\r\n  margin: 0 auto;\r\n}\r\n\r\n.tick-label {\r\n  font-size: 0.7rem;\r\n  color: #666;\r\n  text-align: center;\r\n  margin-top: 3px;\r\n}\r\n\r\n.timeline-item {\r\n  position: absolute;\r\n  top: 10px;\r\n  transform: translateX(-50%);\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n}\r\n\r\n.timeline-item-dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background-color: #4a6cf7;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  z-index: 3;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.timeline-item::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 6px;\r\n  left: 50%;\r\n  width: 2px;\r\n  height: 58px;\r\n  background-color: #ccc;\r\n  transform: translateX(-50%);\r\n  z-index: 1;\r\n}\r\n\r\n.timeline-item-content {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%) scale(0.8);\r\n  background-color: white;\r\n  padding: 8px;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.1);\r\n  width: 90px;\r\n  opacity: 0.7;\r\n  transition: all 0.3s ease;\r\n  z-index: 2;\r\n}\r\n\r\n.timeline-item:hover .timeline-item-content,\r\n.timeline-item.active .timeline-item-content {\r\n  transform: translateX(-50%) scale(1);\r\n  opacity: 1;\r\n  z-index: 10;\r\n}\r\n\r\n.timeline-item:hover .timeline-item-dot,\r\n.timeline-item.active .timeline-item-dot {\r\n  transform: scale(1.5);\r\n  box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.3);\r\n}\r\n\r\n.timeline-item-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 5px;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.timeline-item-info {\r\n  text-align: center;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.timeline-item-city {\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.timeline-item-temp {\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.timeline-item-date {\r\n  font-size: 0.7rem;\r\n  color: #666;\r\n}\r\n\r\n.timeline-cursor {\r\n  position: absolute;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 2px;\r\n  background-color: #dc3545;\r\n  z-index: 5;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.timeline-cursor::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background-color: #dc3545;\r\n}\r\n\r\n.timeline-cursor::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background-color: #dc3545;\r\n}\r\n\r\n.weather-detail-card {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.weather-details {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 10px;\r\n}\r\n\r\n.weather-detail-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.weather-detail-item i {\r\n  font-size: 1.2rem;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.weather-detail-label {\r\n  font-size: 0.75rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.weather-detail-value {\r\n  font-weight: bold;\r\n}\r\n\r\n.weather-icon-lg {\r\n  font-size: 3rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n/* Stili condizioni meteo */\r\n.weather-rain .timeline-item-dot {\r\n  background-color: #2196f3;\r\n}\r\n\r\n.weather-clear .timeline-item-dot {\r\n  background-color: #ff9800;\r\n}\r\n\r\n.weather-cloud .timeline-item-dot {\r\n  background-color: #90a4ae;\r\n}\r\n\r\n.weather-snow .timeline-item-dot {\r\n  background-color: #4fc3f7;\r\n}\r\n\r\n.weather-storm .timeline-item-dot {\r\n  background-color: #673ab7;\r\n}\r\n\r\n.weather-fog .timeline-item-dot {\r\n  background-color: #9e9e9e;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}